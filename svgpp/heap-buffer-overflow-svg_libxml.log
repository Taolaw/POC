=================================================================
==7310==ERROR: AddressSanitizer: heap-buffer-overflow on address 0x7fdd755ff508 at pc 0x55a3cce6165e bp 0x7ffe8c3f04b0 sp 0x7ffe8c3f04a0
WRITE of size 4 at 0x7fdd755ff508 thread T0
    #0 0x55a3cce6165d in agg::pixfmt_alpha_blend_rgba<agg::blender_rgba<agg::rgba8T<agg::linear>, agg::order_rgba>, agg::row_accessor<unsigned char> >::copy_hline(int, int, unsigned int, agg::rgba8T<agg::linear> const&) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13ff65d)
    #1 0x55a3cce53773 in agg::renderer_base<agg::pixfmt_alpha_blend_rgba<agg::blender_rgba<agg::rgba8T<agg::linear>, agg::order_rgba>, agg::row_accessor<unsigned char> > >::clear(agg::rgba8T<agg::linear> const&) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13f1773)
    #2 0x55a3cce46f05 in ImageBuffer::setSize(int, int, agg::rgba8T<agg::linear> const&) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13e4f05)
    #3 0x55a3cce492b8 in Canvas::set_viewport(double, double, double, double) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13e72b8)
    #4 0x55a3cd05e580 in void svgpp::policy::viewport_events::forward_to_method<Canvas>::set_viewport<double>(Canvas&, double, double, double, double) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x15fc580)
    #5 0x55a3cd000bee in _ZN5svgpp26viewport_transform_adapter12set_viewportIKNS_6detail23adapted_context_wrapperIKNS2_31bind_context_parameters_wrapperI6CanvasN5boost9parameter3aux8arg_listINS_15viewport_policyINS_6policy8viewport12as_transformEEENS9_INS_26attribute_traversal_policyI19attribute_traversalEENS9_INS_14markers_policyINSB_7markers16calculate_alwaysEEENS9_INS_12error_policyINSB_5error14default_policyI8StylableEEEENS9_INS_18path_events_policyINSB_11path_events17forward_to_methodI4PathEEEENS9_INS_23transform_events_policyINSB_16transform_events17forward_to_methodI13TransformableEEEENS9_INS_33document_traversal_control_policyI24DocumentTraversalControlEENS9_INS_11path_policyI11path_policyEENS9_INS_20processed_attributesI20processed_attributesEENS9_INS_18processed_elementsI18processed_elementsEENS9_INS_13color_factoryINS_7factory5color18percentage_adapterI20color_factory_base_tEEEENS9_INS_13length_policyINSB_6length17forward_to_methodIS5_KNS1H_6length8unitlessIddNS_3tag12length_units2mmEEEEEEENS9_INS_17context_factoriesI23child_context_factoriesEENS9_INS_19referencing_elementIvEENS8_14empty_arg_listEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEENS_17transform_adapterIS11_NSB_9transform6matrixES12_dvEENS1S_23transform_events_policyENS10_IS2O_EEEEdEEvRT_T0_S2V_S2V_S2V_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x159ebee)
    #6 0x55a3ccf9d444 in _ZNK5svgpp26calculate_viewport_adapterINS_3tag7element3svgEvddE18on_exit_attributesIKNS_6detail23adapted_context_wrapperIKNS6_31bind_context_parameters_wrapperI6CanvasN5boost9parameter3aux8arg_listINS_15viewport_policyINS_6policy8viewport12as_transformEEENSD_INS_26attribute_traversal_policyI19attribute_traversalEENSD_INS_14markers_policyINSF_7markers16calculate_alwaysEEENSD_INS_12error_policyINSF_5error14default_policyI8StylableEEEENSD_INS_18path_events_policyINSF_11path_events17forward_to_methodI4PathEEEENSD_INS_23transform_events_policyINSF_16transform_events17forward_to_methodI13TransformableEEEENSD_INS_33document_traversal_control_policyI24DocumentTraversalControlEENSD_INS_11path_policyI11path_policyEENSD_INS_20processed_attributesI20processed_attributesEENSD_INS_18processed_elementsI18processed_elementsEENSD_INS_13color_factoryINS_7factory5color18percentage_adapterI20color_factory_base_tEEEENSD_INS_13length_policyINSF_6length17forward_to_methodIS9_KNS1L_6length8unitlessIddNS1_12length_units2mmEEEEEEENSD_INS_17context_factoriesI23child_context_factoriesEENSD_INS_19referencing_elementIvEENSC_14empty_arg_listEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEKNS7_IS2N_NS_17transform_adapterIS15_NSF_9transform6matrixES16_dvEENS1_23transform_events_policyENS14_IS2R_EEEENS1_22viewport_events_policyENS_26viewport_transform_adapterEEEEEbRT_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x153b444)
    #7 0x55a3ccf61979 in _ZN5svgpp6detail24viewport_transform_stateINS_26calculate_viewport_adapterINS_3tag7element3svgEvddEEE18on_exit_attributesIKNS0_31bind_context_parameters_wrapperI6CanvasN5boost9parameter3aux8arg_listINS_15viewport_policyINS_6policy8viewport12as_transformEEENSE_INS_26attribute_traversal_policyI19attribute_traversalEENSE_INS_14markers_policyINSG_7markers16calculate_alwaysEEENSE_INS_12error_policyINSG_5error14default_policyI8StylableEEEENSE_INS_18path_events_policyINSG_11path_events17forward_to_methodI4PathEEEENSE_INS_23transform_events_policyINSG_16transform_events17forward_to_methodI13TransformableEEEENSE_INS_33document_traversal_control_policyI24DocumentTraversalControlEENSE_INS_11path_policyI11path_policyEENSE_INS_20processed_attributesI20processed_attributesEENSE_INS_18processed_elementsI18processed_elementsEENSE_INS_13color_factoryINS_7factory5color18percentage_adapterI20color_factory_base_tEEEENSE_INS_13length_policyINSG_6length17forward_to_methodISA_KNS1M_6length8unitlessIddNS3_12length_units2mmEEEEEEENSE_INS_17context_factoriesI23child_context_factoriesEENSE_INS_19referencing_elementIvEENSD_14empty_arg_listEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEbRT_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x14ff979)
    #8 0x55a3ccf26db3 in bool svgpp::detail::on_exit_attributes_functor<Canvas, svgpp::referencing_element<void>, svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::operator()<svgpp::detail::viewport_transform_state<svgpp::calculate_viewport_adapter<svgpp::tag::element::svg, void, double, double> > >(bool, svgpp::detail::viewport_transform_state<svgpp::calculate_viewport_adapter<svgpp::tag::element::svg, void, double, double> >&) const (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x14c4db3)
    #9 0x55a3ccefec95 in _ZN5boost6fusion6detail7it_foldINS0_15vector_iteratorINS0_6vectorIJN5svgpp6detail24viewport_transform_stateINS5_26calculate_viewport_adapterINS5_3tag7element3svgEvddEEEEEEELi0EEENS_13add_referenceIKbEENS6_26on_exit_attributes_functorI6CanvasJNS5_19referencing_elementIvEENS5_17context_factoriesI23child_context_factoriesEENS5_13length_policyINS5_6policy6length17forward_to_methodISK_KNS5_7factory6length8unitlessIddNS9_12length_units2mmEEEEEEENS5_13color_factoryINSU_5color18percentage_adapterI20color_factory_base_tEEEENS5_18processed_elementsI18processed_elementsEENS5_20processed_attributesI20processed_attributesEENS5_11path_policyI11path_policyEENS5_33document_traversal_control_policyI24DocumentTraversalControlEENS5_23transform_events_policyINSR_16transform_events17forward_to_methodI13TransformableEEEENS5_18path_events_policyINSR_11path_events17forward_to_methodI4PathEEEENS5_12error_policyINSR_5error14default_policyI8StylableEEEENS5_14markers_policyINSR_7markers16calculate_alwaysEEENS5_26attribute_traversal_policyI19attribute_traversalEENS5_15viewport_policyINSR_8viewport12as_transformEEEEEELi1EEENS_16lazy_enable_if_cIXneT2_Li0EENS1_17result_of_it_foldIXT2_ET_T0_T1_vEEE4typeEN4mpl_4int_IXT2_EEERKS2H_NS2I_4typeERS2J_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x149cc95)
    #10 0x55a3ccede528 in _ZN5boost6fusion6detail4foldINS0_6vectorIJN5svgpp6detail24viewport_transform_stateINS4_26calculate_viewport_adapterINS4_3tag7element3svgEvddEEEEEEEKbNS5_26on_exit_attributes_functorI6CanvasJNS4_19referencing_elementIvEENS4_17context_factoriesI23child_context_factoriesEENS4_13length_policyINS4_6policy6length17forward_to_methodISG_KNS4_7factory6length8unitlessIddNS8_12length_units2mmEEEEEEENS4_13color_factoryINSQ_5color18percentage_adapterI20color_factory_base_tEEEENS4_18processed_elementsI18processed_elementsEENS4_20processed_attributesI20processed_attributesEENS4_11path_policyI11path_policyEENS4_33document_traversal_control_policyI24DocumentTraversalControlEENS4_23transform_events_policyINSN_16transform_events17forward_to_methodI13TransformableEEEENS4_18path_events_policyINSN_11path_events17forward_to_methodI4PathEEEENS4_12error_policyINSN_5error14default_policyI8StylableEEEENS4_14markers_policyINSN_7markers16calculate_alwaysEEENS4_26attribute_traversal_policyI19attribute_traversalEENS4_15viewport_policyINSN_8viewport12as_transformEEEEEEEENS1_14result_of_foldIT_T0_T1_XsrNS0_6traits11is_sequenceIS2C_EE5valueEXsrNS2F_12is_segmentedIS2C_EE5valueEE4typeERS2C_RS2D_RS2E_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x147c528)
    #11 0x55a3ccec1a2f in _ZN5boost6fusion4foldINS0_6vectorIJN5svgpp6detail24viewport_transform_stateINS3_26calculate_viewport_adapterINS3_3tag7element3svgEvddEEEEEEEbNS4_26on_exit_attributes_functorI6CanvasJNS3_19referencing_elementIvEENS3_17context_factoriesI23child_context_factoriesEENS3_13length_policyINS3_6policy6length17forward_to_methodISE_KNS3_7factory6length8unitlessIddNS7_12length_units2mmEEEEEEENS3_13color_factoryINSO_5color18percentage_adapterI20color_factory_base_tEEEENS3_18processed_elementsI18processed_elementsEENS3_20processed_attributesI20processed_attributesEENS3_11path_policyI11path_policyEENS3_33document_traversal_control_policyI24DocumentTraversalControlEENS3_23transform_events_policyINSL_16transform_events17forward_to_methodI13TransformableEEEENS3_18path_events_policyINSL_11path_events17forward_to_methodI4PathEEEENS3_12error_policyINSL_5error14default_policyI8StylableEEEENS3_14markers_policyINSL_7markers16calculate_alwaysEEENS3_26attribute_traversal_policyI19attribute_traversalEENS3_15viewport_policyINSL_8viewport12as_transformEEEEEEEENS0_9result_of4foldIT_KT0_T1_E4typeERS2B_RS2D_S2E_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x145fa2f)
    #12 0x55a3cceb0492 in _ZN5boost6fusion10accumulateINS0_6vectorIJN5svgpp6detail24viewport_transform_stateINS3_26calculate_viewport_adapterINS3_3tag7element3svgEvddEEEEEEEbNS4_26on_exit_attributes_functorI6CanvasJNS3_19referencing_elementIvEENS3_17context_factoriesI23child_context_factoriesEENS3_13length_policyINS3_6policy6length17forward_to_methodISE_KNS3_7factory6length8unitlessIddNS7_12length_units2mmEEEEEEENS3_13color_factoryINSO_5color18percentage_adapterI20color_factory_base_tEEEENS3_18processed_elementsI18processed_elementsEENS3_20processed_attributesI20processed_attributesEENS3_11path_policyI11path_policyEENS3_33document_traversal_control_policyI24DocumentTraversalControlEENS3_23transform_events_policyINSL_16transform_events17forward_to_methodI13TransformableEEEENS3_18path_events_policyINSL_11path_events17forward_to_methodI4PathEEEENS3_12error_policyINSL_5error14default_policyI8StylableEEEENS3_14markers_policyINSL_7markers16calculate_alwaysEEENS3_26attribute_traversal_policyI19attribute_traversalEENS3_15viewport_policyINSL_8viewport12as_transformEEEEEEEENS0_9result_of10accumulateIT_KT0_T1_E4typeERS2B_RS2D_S2E_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x144e492)
    #13 0x55a3cce9c676 in svgpp::detail::viewport_attribute_dispatcher<svgpp::tag::element::svg, Canvas, svgpp::referencing_element<void>, svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::on_exit_attributes() (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x143a676)
    #14 0x55a3cce8bb5c in bool svgpp::document_traversal<svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::load_attributes<void, _xmlNode*, Canvas, svgpp::tag::element::svg>(_xmlNode* const&, Canvas&, svgpp::tag::element::svg) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x1429b5c)
    #15 0x55a3cce7aff8 in _ZN5svgpp18document_traversalIJNS_17context_factoriesI23child_context_factoriesEENS_13length_policyINS_6policy6length17forward_to_methodI6CanvasKNS_7factory6length8unitlessIddNS_3tag12length_units2mmEEEEEEENS_13color_factoryINS9_5color18percentage_adapterI20color_factory_base_tEEEENS_18processed_elementsI18processed_elementsEENS_20processed_attributesI20processed_attributesEENS_11path_policyI11path_policyEENS_33document_traversal_control_policyI24DocumentTraversalControlEENS_23transform_events_policyINS5_16transform_events17forward_to_methodI13TransformableEEEENS_18path_events_policyINS5_11path_events17forward_to_methodI4PathEEEENS_12error_policyINS5_5error14default_policyI8StylableEEEENS_14markers_policyINS5_7markers16calculate_alwaysEEENS_26attribute_traversal_policyI19attribute_traversalEENS_15viewport_policyINS5_8viewport12as_transformEEEEE12load_elementIN5boost3mpl6s_itemINSC_7element14linearGradientENS1Y_INS1Z_14radialGradientENS1Y_INS1Z_4defsENS1Y_INS1Z_1gENS1Y_INS1Z_3svgENS1Y_INS1Z_6symbolENS1Y_INS1Z_4use_ENS1Y_INS1Z_6circleENS1Y_INS1Z_7ellipseENS1Y_INS1Z_4lineENS1Y_INS1Z_4pathENS1Y_INS1Z_7polygonENS1Y_INS1Z_8polylineENS1Y_INS1Z_4rectENS1Y_INS1Z_4descENS1Y_INS1Z_8metadataENS1Y_INS1Z_5titleENS1Y_INS1Z_7animateENS1Y_INS1Z_12animateColorENS1Y_INS1Z_13animateMotionENS1Y_INS1Z_16animateTransformENS1Y_INS1Z_3setENS1Y_INS1Z_4viewENS1Y_INS1Z_4textENS1Y_INS1Z_7switch_ENS1Y_INS1Z_5styleENS1Y_INS1Z_6scriptENS1Y_INS1Z_7patternENS1Y_INS1Z_4maskENS1Y_INS1Z_6markerENS1Y_INS1Z_5imageENS1Y_INS1Z_13foreignObjectENS1Y_INS1Z_9font_faceENS1Y_INS1Z_4fontENS1Y_INS1Z_6filterENS1Y_INS1Z_6cursorENS1Y_INS1Z_13color_profileENS1Y_INS1Z_8clipPathENS1Y_INS1Z_11altGlyphDefENS1Y_INS1Z_1aENS1X_4set0IN4mpl_2naEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEvP8_xmlNodeS8_S24_EEbRKT1_RT2_T3_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x1418ff8)
    #16 0x55a3cce6a42c in bool svgpp::document_traversal<svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::load_expected_element<_xmlNode*, Canvas, svgpp::tag::element::svg>(_xmlNode* const&, Canvas&, svgpp::tag::element::svg) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x140842c)
    #17 0x55a3cce5a4fa in bool svgpp::document_traversal<svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::load_document<_xmlNode*, Canvas>(_xmlNode* const&, Canvas&) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13f84fa)
    #18 0x55a3cce31d13 in renderDocument(XMLDocument&, ImageBuffer&) /home/ubuntu/svgpp/src/demo/render/svgpp_render.cpp:1659
    #19 0x55a3cce31fd4 in main /home/ubuntu/svgpp/src/demo/render/svgpp_render.cpp:1683
    #20 0x7fdd7a63db6a in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x26b6a)
    #21 0x55a3cce1f8ed in _start (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13bd8ed)

0x7fdd755ff508 is located 0 bytes to the right of 899788040-byte region [0x7fdd3fbe4800,0x7fdd755ff508)
allocated by thread T0 here:
    #0 0x7fdd7ae0217f in operator new(unsigned long) (/lib/x86_64-linux-gnu/libasan.so.5+0x10e17f)
    #1 0x55a3cce908fe in __gnu_cxx::new_allocator<unsigned char>::allocate(unsigned long, void const*) /usr/include/c++/9/ext/new_allocator.h:114
    #2 0x55a3cce81230 in std::allocator_traits<std::allocator<unsigned char> >::allocate(std::allocator<unsigned char>&, unsigned long) /usr/include/c++/9/bits/alloc_traits.h:444
    #3 0x55a3cce728ef in std::_Vector_base<unsigned char, std::allocator<unsigned char> >::_M_allocate(unsigned long) /usr/include/c++/9/bits/stl_vector.h:343
    #4 0x55a3cce60eca in std::vector<unsigned char, std::allocator<unsigned char> >::_M_default_append(unsigned long) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13feeca)
    #5 0x55a3cce533fa in std::vector<unsigned char, std::allocator<unsigned char> >::resize(unsigned long) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13f13fa)
    #6 0x55a3cce46e51 in ImageBuffer::setSize(int, int, agg::rgba8T<agg::linear> const&) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13e4e51)
    #7 0x55a3cce492b8 in Canvas::set_viewport(double, double, double, double) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13e72b8)
    #8 0x55a3cd05e580 in void svgpp::policy::viewport_events::forward_to_method<Canvas>::set_viewport<double>(Canvas&, double, double, double, double) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x15fc580)
    #9 0x55a3cd000bee in _ZN5svgpp26viewport_transform_adapter12set_viewportIKNS_6detail23adapted_context_wrapperIKNS2_31bind_context_parameters_wrapperI6CanvasN5boost9parameter3aux8arg_listINS_15viewport_policyINS_6policy8viewport12as_transformEEENS9_INS_26attribute_traversal_policyI19attribute_traversalEENS9_INS_14markers_policyINSB_7markers16calculate_alwaysEEENS9_INS_12error_policyINSB_5error14default_policyI8StylableEEEENS9_INS_18path_events_policyINSB_11path_events17forward_to_methodI4PathEEEENS9_INS_23transform_events_policyINSB_16transform_events17forward_to_methodI13TransformableEEEENS9_INS_33document_traversal_control_policyI24DocumentTraversalControlEENS9_INS_11path_policyI11path_policyEENS9_INS_20processed_attributesI20processed_attributesEENS9_INS_18processed_elementsI18processed_elementsEENS9_INS_13color_factoryINS_7factory5color18percentage_adapterI20color_factory_base_tEEEENS9_INS_13length_policyINSB_6length17forward_to_methodIS5_KNS1H_6length8unitlessIddNS_3tag12length_units2mmEEEEEEENS9_INS_17context_factoriesI23child_context_factoriesEENS9_INS_19referencing_elementIvEENS8_14empty_arg_listEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEENS_17transform_adapterIS11_NSB_9transform6matrixES12_dvEENS1S_23transform_events_policyENS10_IS2O_EEEEdEEvRT_T0_S2V_S2V_S2V_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x159ebee)
    #10 0x55a3ccf9d444 in _ZNK5svgpp26calculate_viewport_adapterINS_3tag7element3svgEvddE18on_exit_attributesIKNS_6detail23adapted_context_wrapperIKNS6_31bind_context_parameters_wrapperI6CanvasN5boost9parameter3aux8arg_listINS_15viewport_policyINS_6policy8viewport12as_transformEEENSD_INS_26attribute_traversal_policyI19attribute_traversalEENSD_INS_14markers_policyINSF_7markers16calculate_alwaysEEENSD_INS_12error_policyINSF_5error14default_policyI8StylableEEEENSD_INS_18path_events_policyINSF_11path_events17forward_to_methodI4PathEEEENSD_INS_23transform_events_policyINSF_16transform_events17forward_to_methodI13TransformableEEEENSD_INS_33document_traversal_control_policyI24DocumentTraversalControlEENSD_INS_11path_policyI11path_policyEENSD_INS_20processed_attributesI20processed_attributesEENSD_INS_18processed_elementsI18processed_elementsEENSD_INS_13color_factoryINS_7factory5color18percentage_adapterI20color_factory_base_tEEEENSD_INS_13length_policyINSF_6length17forward_to_methodIS9_KNS1L_6length8unitlessIddNS1_12length_units2mmEEEEEEENSD_INS_17context_factoriesI23child_context_factoriesEENSD_INS_19referencing_elementIvEENSC_14empty_arg_listEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEKNS7_IS2N_NS_17transform_adapterIS15_NSF_9transform6matrixES16_dvEENS1_23transform_events_policyENS14_IS2R_EEEENS1_22viewport_events_policyENS_26viewport_transform_adapterEEEEEbRT_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x153b444)
    #11 0x55a3ccf61979 in _ZN5svgpp6detail24viewport_transform_stateINS_26calculate_viewport_adapterINS_3tag7element3svgEvddEEE18on_exit_attributesIKNS0_31bind_context_parameters_wrapperI6CanvasN5boost9parameter3aux8arg_listINS_15viewport_policyINS_6policy8viewport12as_transformEEENSE_INS_26attribute_traversal_policyI19attribute_traversalEENSE_INS_14markers_policyINSG_7markers16calculate_alwaysEEENSE_INS_12error_policyINSG_5error14default_policyI8StylableEEEENSE_INS_18path_events_policyINSG_11path_events17forward_to_methodI4PathEEEENSE_INS_23transform_events_policyINSG_16transform_events17forward_to_methodI13TransformableEEEENSE_INS_33document_traversal_control_policyI24DocumentTraversalControlEENSE_INS_11path_policyI11path_policyEENSE_INS_20processed_attributesI20processed_attributesEENSE_INS_18processed_elementsI18processed_elementsEENSE_INS_13color_factoryINS_7factory5color18percentage_adapterI20color_factory_base_tEEEENSE_INS_13length_policyINSG_6length17forward_to_methodISA_KNS1M_6length8unitlessIddNS3_12length_units2mmEEEEEEENSE_INS_17context_factoriesI23child_context_factoriesEENSE_INS_19referencing_elementIvEENSD_14empty_arg_listEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEbRT_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x14ff979)
    #12 0x55a3ccf26db3 in bool svgpp::detail::on_exit_attributes_functor<Canvas, svgpp::referencing_element<void>, svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::operator()<svgpp::detail::viewport_transform_state<svgpp::calculate_viewport_adapter<svgpp::tag::element::svg, void, double, double> > >(bool, svgpp::detail::viewport_transform_state<svgpp::calculate_viewport_adapter<svgpp::tag::element::svg, void, double, double> >&) const (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x14c4db3)
    #13 0x55a3ccefec95 in _ZN5boost6fusion6detail7it_foldINS0_15vector_iteratorINS0_6vectorIJN5svgpp6detail24viewport_transform_stateINS5_26calculate_viewport_adapterINS5_3tag7element3svgEvddEEEEEEELi0EEENS_13add_referenceIKbEENS6_26on_exit_attributes_functorI6CanvasJNS5_19referencing_elementIvEENS5_17context_factoriesI23child_context_factoriesEENS5_13length_policyINS5_6policy6length17forward_to_methodISK_KNS5_7factory6length8unitlessIddNS9_12length_units2mmEEEEEEENS5_13color_factoryINSU_5color18percentage_adapterI20color_factory_base_tEEEENS5_18processed_elementsI18processed_elementsEENS5_20processed_attributesI20processed_attributesEENS5_11path_policyI11path_policyEENS5_33document_traversal_control_policyI24DocumentTraversalControlEENS5_23transform_events_policyINSR_16transform_events17forward_to_methodI13TransformableEEEENS5_18path_events_policyINSR_11path_events17forward_to_methodI4PathEEEENS5_12error_policyINSR_5error14default_policyI8StylableEEEENS5_14markers_policyINSR_7markers16calculate_alwaysEEENS5_26attribute_traversal_policyI19attribute_traversalEENS5_15viewport_policyINSR_8viewport12as_transformEEEEEELi1EEENS_16lazy_enable_if_cIXneT2_Li0EENS1_17result_of_it_foldIXT2_ET_T0_T1_vEEE4typeEN4mpl_4int_IXT2_EEERKS2H_NS2I_4typeERS2J_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x149cc95)
    #14 0x55a3ccede528 in _ZN5boost6fusion6detail4foldINS0_6vectorIJN5svgpp6detail24viewport_transform_stateINS4_26calculate_viewport_adapterINS4_3tag7element3svgEvddEEEEEEEKbNS5_26on_exit_attributes_functorI6CanvasJNS4_19referencing_elementIvEENS4_17context_factoriesI23child_context_factoriesEENS4_13length_policyINS4_6policy6length17forward_to_methodISG_KNS4_7factory6length8unitlessIddNS8_12length_units2mmEEEEEEENS4_13color_factoryINSQ_5color18percentage_adapterI20color_factory_base_tEEEENS4_18processed_elementsI18processed_elementsEENS4_20processed_attributesI20processed_attributesEENS4_11path_policyI11path_policyEENS4_33document_traversal_control_policyI24DocumentTraversalControlEENS4_23transform_events_policyINSN_16transform_events17forward_to_methodI13TransformableEEEENS4_18path_events_policyINSN_11path_events17forward_to_methodI4PathEEEENS4_12error_policyINSN_5error14default_policyI8StylableEEEENS4_14markers_policyINSN_7markers16calculate_alwaysEEENS4_26attribute_traversal_policyI19attribute_traversalEENS4_15viewport_policyINSN_8viewport12as_transformEEEEEEEENS1_14result_of_foldIT_T0_T1_XsrNS0_6traits11is_sequenceIS2C_EE5valueEXsrNS2F_12is_segmentedIS2C_EE5valueEE4typeERS2C_RS2D_RS2E_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x147c528)
    #15 0x55a3ccec1a2f in _ZN5boost6fusion4foldINS0_6vectorIJN5svgpp6detail24viewport_transform_stateINS3_26calculate_viewport_adapterINS3_3tag7element3svgEvddEEEEEEEbNS4_26on_exit_attributes_functorI6CanvasJNS3_19referencing_elementIvEENS3_17context_factoriesI23child_context_factoriesEENS3_13length_policyINS3_6policy6length17forward_to_methodISE_KNS3_7factory6length8unitlessIddNS7_12length_units2mmEEEEEEENS3_13color_factoryINSO_5color18percentage_adapterI20color_factory_base_tEEEENS3_18processed_elementsI18processed_elementsEENS3_20processed_attributesI20processed_attributesEENS3_11path_policyI11path_policyEENS3_33document_traversal_control_policyI24DocumentTraversalControlEENS3_23transform_events_policyINSL_16transform_events17forward_to_methodI13TransformableEEEENS3_18path_events_policyINSL_11path_events17forward_to_methodI4PathEEEENS3_12error_policyINSL_5error14default_policyI8StylableEEEENS3_14markers_policyINSL_7markers16calculate_alwaysEEENS3_26attribute_traversal_policyI19attribute_traversalEENS3_15viewport_policyINSL_8viewport12as_transformEEEEEEEENS0_9result_of4foldIT_KT0_T1_E4typeERS2B_RS2D_S2E_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x145fa2f)
    #16 0x55a3cceb0492 in _ZN5boost6fusion10accumulateINS0_6vectorIJN5svgpp6detail24viewport_transform_stateINS3_26calculate_viewport_adapterINS3_3tag7element3svgEvddEEEEEEEbNS4_26on_exit_attributes_functorI6CanvasJNS3_19referencing_elementIvEENS3_17context_factoriesI23child_context_factoriesEENS3_13length_policyINS3_6policy6length17forward_to_methodISE_KNS3_7factory6length8unitlessIddNS7_12length_units2mmEEEEEEENS3_13color_factoryINSO_5color18percentage_adapterI20color_factory_base_tEEEENS3_18processed_elementsI18processed_elementsEENS3_20processed_attributesI20processed_attributesEENS3_11path_policyI11path_policyEENS3_33document_traversal_control_policyI24DocumentTraversalControlEENS3_23transform_events_policyINSL_16transform_events17forward_to_methodI13TransformableEEEENS3_18path_events_policyINSL_11path_events17forward_to_methodI4PathEEEENS3_12error_policyINSL_5error14default_policyI8StylableEEEENS3_14markers_policyINSL_7markers16calculate_alwaysEEENS3_26attribute_traversal_policyI19attribute_traversalEENS3_15viewport_policyINSL_8viewport12as_transformEEEEEEEENS0_9result_of10accumulateIT_KT0_T1_E4typeERS2B_RS2D_S2E_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x144e492)
    #17 0x55a3cce9c676 in svgpp::detail::viewport_attribute_dispatcher<svgpp::tag::element::svg, Canvas, svgpp::referencing_element<void>, svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::on_exit_attributes() (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x143a676)
    #18 0x55a3cce8bb5c in bool svgpp::document_traversal<svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::load_attributes<void, _xmlNode*, Canvas, svgpp::tag::element::svg>(_xmlNode* const&, Canvas&, svgpp::tag::element::svg) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x1429b5c)
    #19 0x55a3cce7aff8 in _ZN5svgpp18document_traversalIJNS_17context_factoriesI23child_context_factoriesEENS_13length_policyINS_6policy6length17forward_to_methodI6CanvasKNS_7factory6length8unitlessIddNS_3tag12length_units2mmEEEEEEENS_13color_factoryINS9_5color18percentage_adapterI20color_factory_base_tEEEENS_18processed_elementsI18processed_elementsEENS_20processed_attributesI20processed_attributesEENS_11path_policyI11path_policyEENS_33document_traversal_control_policyI24DocumentTraversalControlEENS_23transform_events_policyINS5_16transform_events17forward_to_methodI13TransformableEEEENS_18path_events_policyINS5_11path_events17forward_to_methodI4PathEEEENS_12error_policyINS5_5error14default_policyI8StylableEEEENS_14markers_policyINS5_7markers16calculate_alwaysEEENS_26attribute_traversal_policyI19attribute_traversalEENS_15viewport_policyINS5_8viewport12as_transformEEEEE12load_elementIN5boost3mpl6s_itemINSC_7element14linearGradientENS1Y_INS1Z_14radialGradientENS1Y_INS1Z_4defsENS1Y_INS1Z_1gENS1Y_INS1Z_3svgENS1Y_INS1Z_6symbolENS1Y_INS1Z_4use_ENS1Y_INS1Z_6circleENS1Y_INS1Z_7ellipseENS1Y_INS1Z_4lineENS1Y_INS1Z_4pathENS1Y_INS1Z_7polygonENS1Y_INS1Z_8polylineENS1Y_INS1Z_4rectENS1Y_INS1Z_4descENS1Y_INS1Z_8metadataENS1Y_INS1Z_5titleENS1Y_INS1Z_7animateENS1Y_INS1Z_12animateColorENS1Y_INS1Z_13animateMotionENS1Y_INS1Z_16animateTransformENS1Y_INS1Z_3setENS1Y_INS1Z_4viewENS1Y_INS1Z_4textENS1Y_INS1Z_7switch_ENS1Y_INS1Z_5styleENS1Y_INS1Z_6scriptENS1Y_INS1Z_7patternENS1Y_INS1Z_4maskENS1Y_INS1Z_6markerENS1Y_INS1Z_5imageENS1Y_INS1Z_13foreignObjectENS1Y_INS1Z_9font_faceENS1Y_INS1Z_4fontENS1Y_INS1Z_6filterENS1Y_INS1Z_6cursorENS1Y_INS1Z_13color_profileENS1Y_INS1Z_8clipPathENS1Y_INS1Z_11altGlyphDefENS1Y_INS1Z_1aENS1X_4set0IN4mpl_2naEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEEvP8_xmlNodeS8_S24_EEbRKT1_RT2_T3_ (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x1418ff8)
    #20 0x55a3cce6a42c in bool svgpp::document_traversal<svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::load_expected_element<_xmlNode*, Canvas, svgpp::tag::element::svg>(_xmlNode* const&, Canvas&, svgpp::tag::element::svg) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x140842c)
    #21 0x55a3cce5a4fa in bool svgpp::document_traversal<svgpp::context_factories<child_context_factories>, svgpp::length_policy<svgpp::policy::length::forward_to_method<Canvas, svgpp::factory::length::unitless<double, double, svgpp::tag::length_units::mm> const> >, svgpp::color_factory<svgpp::factory::color::percentage_adapter<color_factory_base_t> >, svgpp::processed_elements<processed_elements>, svgpp::processed_attributes<processed_attributes>, svgpp::path_policy<path_policy>, svgpp::document_traversal_control_policy<DocumentTraversalControl>, svgpp::transform_events_policy<svgpp::policy::transform_events::forward_to_method<Transformable> >, svgpp::path_events_policy<svgpp::policy::path_events::forward_to_method<Path> >, svgpp::error_policy<svgpp::policy::error::default_policy<Stylable> >, svgpp::markers_policy<svgpp::policy::markers::calculate_always>, svgpp::attribute_traversal_policy<attribute_traversal>, svgpp::viewport_policy<svgpp::policy::viewport::as_transform> >::load_document<_xmlNode*, Canvas>(_xmlNode* const&, Canvas&) (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13f84fa)
    #22 0x55a3cce31d13 in renderDocument(XMLDocument&, ImageBuffer&) /home/ubuntu/svgpp/src/demo/render/svgpp_render.cpp:1659
    #23 0x55a3cce31fd4 in main /home/ubuntu/svgpp/src/demo/render/svgpp_render.cpp:1683
    #24 0x7fdd7a63db6a in __libc_start_main (/lib/x86_64-linux-gnu/libc.so.6+0x26b6a)

SUMMARY: AddressSanitizer: heap-buffer-overflow (/home/luna/tmp/debug/bin/svgpp_agg_render_libxml+0x13ff65d) in agg::pixfmt_alpha_blend_rgba<agg::blender_rgba<agg::rgba8T<agg::linear>, agg::order_rgba>, agg::row_accessor<unsigned char> >::copy_hline(int, int, unsigned int, agg::rgba8T<agg::linear> const&)
Shadow bytes around the buggy address:
  0x0ffc2eab7e50: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0ffc2eab7e60: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0ffc2eab7e70: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0ffc2eab7e80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  0x0ffc2eab7e90: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
=>0x0ffc2eab7ea0: 00[fa]fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0ffc2eab7eb0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0ffc2eab7ec0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0ffc2eab7ed0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0ffc2eab7ee0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  0x0ffc2eab7ef0: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07 
  Heap left redzone:       fa
  Freed heap region:       fd
  Stack left redzone:      f1
  Stack mid redzone:       f2
  Stack right redzone:     f3
  Stack after return:      f5
  Stack use after scope:   f8
  Global redzone:          f9
  Global init order:       f6
  Poisoned by user:        f7
  Container overflow:      fc
  Array cookie:            ac
  Intra object redzone:    bb
  ASan internal:           fe
  Left alloca redzone:     ca
  Right alloca redzone:    cb
  Shadow gap:              cc
==7310==ABORTING

